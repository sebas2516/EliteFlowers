<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="CSS/login.css">
	<script src="https://www.gstatic.com/firebasejs/3.6.1/firebase.js"></script>
    <title> login </title>
</head>
<body>
	<section class="division">
		<div id="Contenedor">
			<div class="Icon">
				<!--Icono de usuario-->
				<img src="img/LogoLogin.png" alt="Logo">
			</div>

			<br>
            <form>  <!--action="vehiculos.html" method="POST"   -->

                <!-- Email -->
                <div class="input-group input-group-lg">
                    <span class="input-group-addon" id="sizing-addon1"><i class="glyphicon glyphicon-envelope"></i></span>
                    <input name="nickname" id="email" class="form-control"  placeholder="Nombre de Usuario"  aria-describedby="sizing-addon1" required>
                </div>

                <br>

                <!-- ContraseÃ±a -->
                <div class="input-group input-group-lg">
                    <span class="input-group-addon" id="sizing-addon1"><i class="glyphicon glyphicon-lock"></i></span>
                    <input type="password" name="password" id="password" class="form-control" placeholder="******" aria-describedby="sizing-addon1" required>
                </div>

                <br>
                
                <button class="btn btn-lg btn-primary btn-block btn-signin"  id="IngresoLog" type="submit">Entrar</button>
            </form>
		</div>		
	</section>

    <!-- Conexion Base De Datos -->
	<script>

        var config = {
            apiKey: "AIzaSyC_26hObLhRWLYZyS9_P6FcKzdf4glTNHg",
            authDomain: "temperaturascoltrack.firebaseapp.com",
            databaseURL: "https://temperaturascoltrack-default-rtdb.firebaseio.com",
            storageBucket: "temperaturascoltrack.appspot.com",
            messagingSenderId: "835071084222"
        };
        
        firebase.initializeApp(config);

        // Elementos
        const email = document.getElementById('email');
        const password = document.getElementById('password');
        const IngresoLog = document.getElementById('IngresoLog');

        // Evento Login
        IngresoLog.addEventListener('click' , e =>{
            const email = email.value;
            const pass = password.value;
            const auth = firebase.auth();

            // Login
                const promise = auth.signInWithEmailAndPassword(email,pass);
                promise.try(location = 'vehiculos.html');
                              
                promise.catch(e => console.log(e.message));
                
                // if(document.getElementById('IngresoLog').click == true) { 
        	    // location.replace("vehiculos.html")}
        });

        // Crear Usuario
        promise.addEventListener( 'click', function( event ) {
        location = 'vehiculos.html';
        }, false );
        
        Registro.addEventListener('click', e =>{
            const email = email.value;
            const pass = password.value;
            const auth = firebase.auth();

            const promise = auth.createUserWithEmailAndPassword(email,pass);
            promise.catch(e => console.log(e.message));
	    });
        

	</script>
    
</body>
</html>
